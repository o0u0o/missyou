# 消息队列

## 常用的消息队列
RabbitMQ RocketMQ Kafka ActiveMQ

延迟消息队列

服务器 -> 消息队列
消息队列 -> 服务器

1、使用定时器时间不精确 是轮询的
2、延迟消息队列 订单是在某时刻过期， 需要一个机制去通知服务器更新订单状态 较为精确

## 处理订单过期的3种方案
可以设置60分钟 或者30分钟 订单过期
1、create_time + expiredTime = expiredTimePoint 和 当前时间now对比
2、创建订单时就记录订单过期的时间点 再和当前时间进行对比
3、使用Redis的键空间通知 / RocketMQ 


## 订单过期状态


# 消息队列的优点
1、解耦 对超大型项目解耦 A应用-生成订单  B应用-处理订单
2、异步 下单 -> 成功后 短信、邮件、仓储调度（如果是同步，前端用户的响应时间会很长）
